<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniCharm</title>
    <link rel="stylesheet" href="/assets/css/dashboard_admin.css">
    <script defer src="/assets/js/dashboard_admin.js"></script>
</head>
<body>
<div id="layoutContainer">
    <div id="navigationBar">
        <img src="/assets/images/bml_logo.png" width="130">
        <div id="dashboard">Dashboard</div>
        <div id="check_profile">Profile</div>
        <div id="courses">Courses</div>
        <div id="notice">Notice</div>
        <div id="schedule">Schedule</div>
        <div id="logout">Logout</div>
    </div>
    <div id="contentWrapper">
        <div id="headerDiv">
            <header>
                <input type="text" id="searchBar" placeholder="Search">
                <div id="departmentSelection">
                    <select id="departmentDropdown" onchange="updateSections()">
                        <option value="CSE">CSE</option>
                        <option value="ME">ME</option>
                        <option value="Ecom">Ecom</option>
                    </select>
                    <select id="sectionDropdown" onchange="updateDashboard()"></select>
                </div>                
                <div id="profile">
                    <img id="ProfilePic" >
                    <div id="ProfileUserInfo">
                        <p id="Profile_userName"></p>
                        <p id="Profile_userDetail"></p>
                    </div>
                </div>
                <div id="headerIcons">
                    <img id="settings_icon" src="/assets/images/settings_icon.png">
                    <img id="notification_icon" src="/assets/images/notification_icon.png">
                </div>
            </header>
        </div>
        <div id="mainContent">
            <div id="quickAccess">
                <div class="quick-access-item" id="od-btn">
                    <img src="/assets/images/od_management.svg" alt="OD Management">
                    <p>OD Management</p>
                </div>
                <div class="quick-access-item" id="Assessment-btn">
                    <img src="/assets/images/assessment_clash.svg" alt="Assessment">
                    <p>Assessment Management</p>
                </div>
                <div class="quick-access-item">
                    <img src="/assets/images/manage_course.svg" alt="Manage Course">
                    <p>Manage Course</p>
                </div>
                <div class="quick-access-item" id="mentorship-btn">
                    <img src="/assets/images/mentorship.svg" alt="Mentorship">
                    <p>Mentorship</p>
                </div>                
                
            </div>
            
            <div id="optionsContainer">
                <div id="exploreMoreOptions">
                    <h2>CREATE ANNOUNCEMENTS</h2>
                    <div id="announcementBox">
                        <textarea placeholder="Send your Announcement....."></textarea>
                        <button id="postButton">POST</button>
                    </div>
                </div>
                
                <div id="todoAssessmentContainer">
                    <div id="todoSection">
                        <h2>TO-DO LIST</h2>
                        <div id="todoContainer">
                            <input type="text" id="todoInput" placeholder="Add a new task...">
                            <button id="addTodoButton">Add</button>
                            <ul id="todoList"></ul>
                            <button id="checkLocalStorage">Check Local Storage</button>
                        </div>
                    </div>
                    
                    <div id="assessment">
                        <h2>Assessments Manager</h2>
                        <div id="todoContainer">
                            <img src="/assets/images/java_ass.png" width="400" height="61">
                            <button id="addTodoButton">Manage</button>
                        </div>
                    </div>
                </div>
            </div>            
        </div>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const addTodoButton = document.getElementById("addTodoButton");
        const todoInput = document.getElementById("todoInput");
        const todoList = document.getElementById("todoList");
        const checkStorageButton = document.getElementById("checkLocalStorage");

        // Load tasks from local storage when the page loads
        loadTasks();

        // Function to save tasks to local storage
        function saveTasks() {
            const tasks = [];
            const taskElements = todoList.querySelectorAll("li");
            
            taskElements.forEach(task => {
                // Get the text content without the "Remove" button text
                const taskText = task.childNodes[0].nodeValue.trim();
                tasks.push(taskText);
            });
            
            localStorage.setItem("todoTasks", JSON.stringify(tasks));
        }

        // Function to load tasks from local storage
        function loadTasks() {
            const savedTasks = localStorage.getItem("todoTasks");
            
            if (savedTasks) {
                const tasks = JSON.parse(savedTasks);
                
                tasks.forEach(taskText => {
                    createTaskElement(taskText);
                });
            }
        }

        // Function to create a new task element
        function createTaskElement(taskText) {
            const listItem = document.createElement("li");
            listItem.appendChild(document.createTextNode(taskText));
            
            const removeButton = document.createElement("button");
            removeButton.textContent = "Remove";
            removeButton.addEventListener("click", function () {
                todoList.removeChild(listItem);
                saveTasks(); // Update local storage after removing a task
            });

            listItem.appendChild(removeButton);
            todoList.appendChild(listItem);
        }

        // Add a new task
        addTodoButton.addEventListener("click", function () {
            const taskText = todoInput.value.trim();
            if (taskText !== "") {
                createTaskElement(taskText);
                todoInput.value = "";
                saveTasks(); // Save to local storage after adding a task
            }
        });

        // Allow pressing Enter key to add a task
        todoInput.addEventListener("keypress", function(event) {
            if (event.key === "Enter") {
                event.preventDefault();
                addTodoButton.click();
            }
        });

        // Button to check local storage content
        checkStorageButton.addEventListener("click", function() {
            const savedTasks = localStorage.getItem("todoTasks");
            if (savedTasks) {
                alert("Current tasks in local storage: \n" + savedTasks);
            } else {
                alert("No tasks found in local storage.");
            }
        });
    });

    document.getElementById('mentorship-btn').addEventListener('click', function() {
        window.location.href = '/admin/mentorship.html';
    });
    document.getElementById('od-btn').addEventListener('click', function() {
        window.location.href = '/admin/od-management.html';
    });
    document.getElementById('Assessment-btn').addEventListener('click', function() {
        window.location.href = '/admin/assessment.html';
    });
</script>
</body>
</html>